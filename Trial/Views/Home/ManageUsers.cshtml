@model IEnumerable<Trial.Models.EditUserViewModel>
<br /><br />
<h1 class="row manage-title">MANAGE USERS</h1><br />

<div class="row">
    <div class="col-lg-1">
        <a class="btn btn-success btn-block" onclick="location.href='@Url.Action("Register", "Account")'">Add User</a>
    </div>
</div><br /><br />

<table id="manageusers" class="display">
    <thead>
        <tr>
            <th>USER NAME</th>
            <th>EMAIL</th>
            <th>FIRST NAME</th>
            <th>LAST NAME</th>
            <th>PHONE NUMBER</th>
            <th>ACTION</th>
        </tr>
    </thead>

    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    <div class="col-sm-1">
                        @Html.DisplayFor(modelItem => item.UserName)
                    </div>
                </td>

                <td>
                    <div class="col-sm-1">
                        @Html.DisplayFor(modelItem => item.Email)
                    </div>
                </td>
                <td>
                    <div class="col-sm-1">
                        @Html.DisplayFor(modelItem => item.FirstName)
                    </div>
                </td>
                <td>
                    <div class="col-sm-1">
                        @Html.DisplayFor(modelItem => item.LastName)
                    </div>
                </td>
                <td>
                    <div class="col-sm-1">
                        @Html.DisplayFor(modelItem => item.PhoneNum)
                    </div>
                </td>

                <td>
                    <div class="col-sm-2">
                        <a title="Delete" class="deleteuser" href='@Url.Action("DeleteUser", "Account",new { id = item.Id })'>
                            <span class="glyphicon glyphicon-remove"></span>

                        </a>

                    </div>

                </td>
            </tr>
        }
    </tbody>

</table>

<script>
        $(document).ready(function () {
            $("#manageusers").DataTable();
        });

        
        $("#manageusers").on("click", ".deleteuser", function (e) {

            e.preventDefault();
            var location = $(this).attr('href');


            bootbox.confirm("Are you sure you want to delete this user?", function (result) {
                if (result) {
                    window.location.replace(location);


                }
            });



        });
</script>

@section footer{
    <footer class="row subsection subsection-three navbar-fixed-bottom">
        <div style="padding-top:20px;padding-bottom:20px;color:#B99867;background-color:#283345;" class="col-lg-12">All Copyrights Reserved 2017 | JOBY Development Team.</div>
    </footer>
}